<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>xilplmi: xplmi_update.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="HTML_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">xilplmi
   </div>
   <div id="projectbrief">Vitis Drivers API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="globals.html"><span>APIs</span></a></li>
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xplmi__update_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xplmi_update.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div class="textblock"><p>This is the file which contains PLM update process. </p>
<p>This code in this file is applicable only for versal_net platform.</p>
<pre>
MODIFICATION HISTORY:</pre><pre>Ver   Who  Date       Changes
----- ---- ---------- -------------------------------------------------------
1.00  bm   01/30/2022 Initial release
      bm   07/06/2022 Refactor versal and versal_net code
      bm   07/13/2022 Added compatibility check for In-Place PLM Update
      bm   07/18/2022 Shutdown modules gracefully during update
1.01  ng   11/11/2022 Fixed doxygen file name error</pre><pre></pre><dl class="section note"><dt>Note</dt><dd></dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa162fe5ce1ebcb2622bb2ccec4fcec4f"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__update_8c.html#aa162fe5ce1ebcb2622bb2ccec4fcec4f">XPlmi_IsPlmUpdateDone</a> (void)</td></tr>
<tr class="memdesc:aa162fe5ce1ebcb2622bb2ccec4fcec4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks if Inplace PLM update occurs or not.  <a href="#aa162fe5ce1ebcb2622bb2ccec4fcec4f">More...</a><br/></td></tr>
<tr class="separator:aa162fe5ce1ebcb2622bb2ccec4fcec4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b30eb34b62e61595d1648858d70ce34"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__update_8c.html#a9b30eb34b62e61595d1648858d70ce34">XPlmi_IsPlmUpdateInProgress</a> (void)</td></tr>
<tr class="memdesc:a9b30eb34b62e61595d1648858d70ce34"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks if Inplace PLM update is in progress or not.  <a href="#a9b30eb34b62e61595d1648858d70ce34">More...</a><br/></td></tr>
<tr class="separator:a9b30eb34b62e61595d1648858d70ce34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae804925f6b45d1685a010c2d1d3e842f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__update_8c.html#ae804925f6b45d1685a010c2d1d3e842f">XPlmi_DsOps</a> (u32 Op, u64 Addr, void *Data)</td></tr>
<tr class="memdesc:ae804925f6b45d1685a010c2d1d3e842f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does operations like storing, restoring the Data Structure to Memory during PLM update.  <a href="#ae804925f6b45d1685a010c2d1d3e842f">More...</a><br/></td></tr>
<tr class="separator:ae804925f6b45d1685a010c2d1d3e842f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133542368f05623ddf052d283f4bf2d1"><td class="memItemLeft" align="right" valign="top">XPlmi_DsEntry *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__update_8c.html#a133542368f05623ddf052d283f4bf2d1">XPlmi_GetDsEntry</a> (XPlmi_DsEntry *DsList, u32 DsCnt, XPlmi_DsVer *DsVer)</td></tr>
<tr class="memdesc:a133542368f05623ddf052d283f4bf2d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns DsEntry found after searching in the provided DsList.  <a href="#a133542368f05623ddf052d283f4bf2d1">More...</a><br/></td></tr>
<tr class="separator:a133542368f05623ddf052d283f4bf2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c18ecfe4d08c8da4dc0bec5218cb59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__update_8c.html#a18c18ecfe4d08c8da4dc0bec5218cb59">XPlmi_RestoreDataBackup</a> (void)</td></tr>
<tr class="memdesc:a18c18ecfe4d08c8da4dc0bec5218cb59"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function restore all the data structures after InPlace PLM udpate.  <a href="#a18c18ecfe4d08c8da4dc0bec5218cb59">More...</a><br/></td></tr>
<tr class="separator:a18c18ecfe4d08c8da4dc0bec5218cb59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaadab5133cb40cbaa1113c26036ca0e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__update_8c.html#aaadab5133cb40cbaa1113c26036ca0e3">XPlmi_PlmUpdate</a> (XPlmi_Cmd *Cmd)</td></tr>
<tr class="memdesc:aaadab5133cb40cbaa1113c26036ca0e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does In-Place PLM Update.  <a href="#aaadab5133cb40cbaa1113c26036ca0e3">More...</a><br/></td></tr>
<tr class="separator:aaadab5133cb40cbaa1113c26036ca0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae804925f6b45d1685a010c2d1d3e842f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_DsOps </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>Op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function does operations like storing, restoring the Data Structure to Memory during PLM update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Op</td><td>is the type of operation to be performed on the data structure </td></tr>
    <tr><td class="paramname">Addr</td><td>is the memory address to which data structure should be stored or restored from </td></tr>
    <tr><td class="paramname">Data</td><td>is the Data Structure Entry</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS on success and error code on failure </dd></dl>

<p>References <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3aaa90f278e77b854c332bbad843108e0e">XPLMI_ERR_DS_ALIGNMENT_INCORRECT</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3aeb1a81033de05df4b377e05632da3bcc">XPLMI_ERR_INVALID_DS_ENTRY</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a977a2288756622f815ea8834bffa40ce">XPLMI_ERR_MEMCPY_RESTORE_DB</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a66d47ac099a586c073dad551b87df1ec">XPLMI_ERR_MEMCPY_STORE_DB</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a944a4bd3dd3ee2db325eaed3edf6e9d4">XPLMI_ERR_MEMSET_RESTORE_DB</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a199880e3e1ed44e7906f06d0a0a1e66d">XPLMI_ERR_PLM_UPDATE_DB_OVERFLOW</a>, and <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3ab1ffd42f24cebc3c7a0a0a86d6bc6c07">XPLMI_ERR_PLM_UPDATE_INVALID_OP</a>.</p>

</div>
</div>
<a class="anchor" id="a133542368f05623ddf052d283f4bf2d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XPlmi_DsEntry* XPlmi_GetDsEntry </td>
          <td>(</td>
          <td class="paramtype">XPlmi_DsEntry *&#160;</td>
          <td class="paramname"><em>DsList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>DsCnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XPlmi_DsVer *&#160;</td>
          <td class="paramname"><em>DsVer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns DsEntry found after searching in the provided DsList. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DsList</td><td>is the Data Structure List in which the DS is searched </td></tr>
    <tr><td class="paramname">DsCnt</td><td>is the number of Data Structures present in the List </td></tr>
    <tr><td class="paramname">DsHdr</td><td>is the Data Structure Header to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS on success and error code on failure </dd></dl>

<p>Referenced by <a class="el" href="xplmi__update_8h.html#a18c18ecfe4d08c8da4dc0bec5218cb59">XPlmi_RestoreDataBackup()</a>.</p>

</div>
</div>
<a class="anchor" id="aa162fe5ce1ebcb2622bb2ccec4fcec4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 XPlmi_IsPlmUpdateDone </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks if Inplace PLM update occurs or not. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if Inplace PLM Update and FALSE otherwise </dd></dl>

<p>References <a class="el" href="net_2xplmi__plat_8h.html#aa162fe5ce1ebcb2622bb2ccec4fcec4f">XPlmi_IsPlmUpdateDone()</a>.</p>

<p>Referenced by <a class="el" href="net_2xplmi__plat_8h.html#a9efa7569b38de00eb49b771c5bbeae34">XPlmi_ClearSSSCfgErr()</a>, <a class="el" href="xplmi__err__common_8c.html#ac4246e034f2676929e6b356ce682093b">XPlmi_EmInit()</a>, <a class="el" href="net_2xplmi__plat_8c.html#a92f7fc2a45624e66973b93c949c0d4ea">XPlmi_GetPitResetValues()</a>, <a class="el" href="xplmi__update_8c.html#aa162fe5ce1ebcb2622bb2ccec4fcec4f">XPlmi_IsPlmUpdateDone()</a>, <a class="el" href="xplmi_8c.html#a096c3ab59b174d7abd84700c70debaa7">XPlmi_LpdInit()</a>, <a class="el" href="net_2xplmi__plat_8c.html#a9b903c7da9ef38d123e18ce436ed9b64">XPlmi_PreInit()</a>, <a class="el" href="xplmi_8c.html#abc6c22a6abbfe15fb3d908c81b0941dc">XPlmi_PrintPlmBanner()</a>, and <a class="el" href="xplmi_8c.html#ac7d9401e9180244111edb141932b0d37">XPlmi_RunTimeConfigInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b30eb34b62e61595d1648858d70ce34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 XPlmi_IsPlmUpdateInProgress </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks if Inplace PLM update is in progress or not. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if Inplace PLM Update is in progress and FALSE otherwise </dd></dl>

<p>References <a class="el" href="net_2xplmi__plat_8h.html#a9b30eb34b62e61595d1648858d70ce34">XPlmi_IsPlmUpdateInProgress()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__update_8c.html#a9b30eb34b62e61595d1648858d70ce34">XPlmi_IsPlmUpdateInProgress()</a>, and <a class="el" href="xplmi__update_8h.html#aaadab5133cb40cbaa1113c26036ca0e3">XPlmi_PlmUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="aaadab5133cb40cbaa1113c26036ca0e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_PlmUpdate </td>
          <td>(</td>
          <td class="paramtype">XPlmi_Cmd *&#160;</td>
          <td class="paramname"><em>Cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function does In-Place PLM Update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Cmd</td><td>is the command pointer of in place update command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS on success and error code on failure </dd></dl>

<p>References <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a02bc087fab18288e783f61926378ec93">XPLMI_ERR_PLM_UPDATE_DISABLED</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a96a2e485ac733aa50d21e752ce5743eb">XPLMI_ERR_PLM_UPDATE_SHUTDOWN_INIT</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a7dfadb374738790aefaa2ea4761cf377">XPLMI_ERR_UPDATE_IN_PROGRESS</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a1e009962e48e65f70257cd00a5587f2f">XPLMI_ERR_UPDATE_TASK_NOT_FOUND</a>, <a class="el" href="xplmi__task_8c.html#a5c2739a1280c0963a4e71cf84aea5204">XPlmi_GetTaskInstance()</a>, <a class="el" href="net_2xplmi__plat_8h.html#a9b30eb34b62e61595d1648858d70ce34">XPlmi_IsPlmUpdateInProgress()</a>, and <a class="el" href="xplmi__task_8c.html#adbfc56f5e2b34a2bd07996a3231becb2">XPlmi_TaskTriggerNow()</a>.</p>

<p>Referenced by <a class="el" href="group__xplmi__apis.html#ga8ddc1de78adaa52322685bd933f588e7">XPlmi_InPlacePlmUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a18c18ecfe4d08c8da4dc0bec5218cb59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_RestoreDataBackup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function restore all the data structures after InPlace PLM udpate. </p>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS on success and error code on failure </dd></dl>

<p>References <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a3d1b843d98999e3570d9fba3d679a810">XPLMI_ERR_DB_ENDADDR_INVALID</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3ab27888d8229f1de22ab48a61acdb3836">XPLMI_ERR_DB_HDR_SIZE_MISMATCH</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a9ac9f22a5f2991369b441354318feac0">XPLMI_ERR_DB_HDR_VERSION_MISMATCH</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3ab206fbd02647e2846ef4e1ccae964128">XPLMI_ERR_INVALID_RESTORE_DS_HANDLER</a>, <a class="el" href="net_2xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3abf0faba7307dc2c201728b3837a1a094">XPLMI_ERR_PLM_UPDATE_NO_DS_FOUND</a>, and <a class="el" href="xplmi__update_8c.html#a133542368f05623ddf052d283f4bf2d1">XPlmi_GetDsEntry()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
	<p class="footer">&copy; Copyright 2015-2022 Xilinx, Inc. All Rights Reserved.</p>
	<p class="footer">&copy; Copyright 2022-2023 Advanced Micro Devices, Inc. All Rights Reserved.</p>
</div>
</body>
</html>
